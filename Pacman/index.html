<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="https://www.freeiconspng.com/thumbs/pacman-png/pacman-png-18.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pacman</title>
    <style type="text/css">
        body{
            background-color: #232323;
            margin: 0;
        } 
        div.row div{
            width: 20px;
            height: 20px;
            display: inline-block;
            margin-bottom: -4px;
        }
        div.brick{
            background-color: blue;
        }
        div.coin{
            background: url('./coin.gif');
            background-size: 10px;
            background-repeat: no-repeat;
            background-position: center;
        }

        div.cherry{
            background: url('./cherry.png');
            background-size: 15px;
            background-repeat: no-repeat;
            background-position: center;
        }

        div#pacman{
            background: url('./pacman.gif');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            height: 20px;
            width: 20px;
            position: absolute;
        }
        div#ghost1 {
			background-image: url('./ghost1.gif');
		}
		div#ghost2 {
			background-image: url('./ghost2.gif');
		}
		div#ghost3 {
			background-image: url('./ghost3.gif');
		}
        div.ghost{
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            height: 20px;
            width: 20px;
            position: absolute;
        }

        div.empty{
            background-color: transparent;
        }

        div#score{
            border: 1px solid whitesmoke;
            height: 20px;
            width: 20px;
            color: whitesmoke;
            align-items: center;
            justify-content: center;
            display: flex;
            position: absolute;
            top: 10px;
            left: 610px;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="world"></div>
        <div id="pacman"></div>
        <div id="score">0</div>
        <div id="ghost1" class="ghost"></div>
        <div id="ghost2" class="ghost"></div>
        <div id="ghost3" class="ghost"></div>
    </div>


    
    <script>

        var world;
        var map = Math.floor(Math.random() * 5) + 1;
        if (map == 1) {
            world = [
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,3,1,1,1,2,1,1,1,3,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,0,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,3,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,3,1,1,2,1,3,1,2,3,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2],
            [2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2],
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
        ];
        }else if (map == 2) {
            world = [
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
            [2,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2],
            [2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2],
            [2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2],
            [2,1,2,0,0,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,2,2,0,0,2,1,2],
            [2,1,2,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,2,1,2],
            [2,1,2,0,0,2,1,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,1,2,0,0,2,1,2],
            [2,1,2,0,0,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,0,0,2,1,2],
            [2,1,2,0,0,2,1,2,1,1,1,1,1,2,2,2,2,1,1,1,1,1,2,1,2,0,0,2,1,2],
            [2,1,2,0,0,0,1,0,1,1,1,1,1,3,3,3,2,1,1,1,1,1,0,1,0,0,0,2,1,2],
            [2,1,2,0,0,0,1,0,1,1,1,1,1,2,3,3,3,1,1,1,1,1,0,1,0,0,0,2,1,2],
            [2,1,2,0,0,2,1,2,1,1,1,1,1,2,2,2,2,1,1,1,1,1,2,1,2,0,0,2,1,2],
            [2,1,2,0,0,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,0,0,2,1,2],
            [2,1,2,0,0,2,1,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,1,2,0,0,2,1,2],
            [2,1,2,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,2,1,2],
            [2,1,2,0,0,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,2,2,0,0,2,1,2],
            [2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2],
            [2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2],
            [2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2],
            [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2], 
        ];
        }else if (map == 3) {
            world = [
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
            [2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,2],
            [2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2],
            [2,0,2,0,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,2,0,2,0,2],
            [2,0,2,0,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,0,2,0,2],
            [2,0,0,0,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,0,0,0,2],
            [2,0,0,0,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,0,0,0,2],
            [2,0,0,0,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,0,0,0,2],
            [2,0,0,0,2,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,0,0,0,2],
            [2,0,0,0,1,1,1,1,1,2,1,1,1,2,3,1,1,1,1,2,1,1,1,2,1,1,0,0,0,2],
            [2,0,0,0,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,0,0,0,2],
            [2,0,0,0,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,0,0,0,2],
            [2,0,0,0,2,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,0,0,0,2],
            [2,0,0,0,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,2,0,0,0,2],
            [2,0,0,0,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,0,0,0,2],
            [2,0,2,0,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,0,2,0,2],
            [2,0,2,0,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,0,2,0,2],
            [2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2],
            [2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,2],
            [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2], 
        ];
        }else if (map == 4) {
            world = [
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
            [2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2],
            [2,1,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,1,2],
            [2,1,0,2,1,2,1,2,1,2,1,2,1,2,2,1,2,1,2,1,2,1,2,1,2,1,2,0,1,2],
            [2,1,0,2,1,1,1,2,1,2,1,1,1,2,1,1,2,1,1,1,2,1,2,1,1,1,2,0,1,2],
            [2,1,0,2,1,2,2,2,1,2,2,2,1,2,1,2,2,1,2,2,2,1,2,2,2,1,2,0,1,2],
            [2,1,0,2,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,0,1,2],
            [2,1,0,2,2,2,2,2,1,3,2,1,2,2,2,2,2,2,1,3,2,1,2,2,2,2,2,0,1,2],
            [2,1,0,2,1,1,1,2,1,1,1,1,1,1,2,2,1,1,1,3,3,1,2,1,1,1,2,0,1,2],
            [2,1,0,2,2,2,1,2,1,3,3,3,2,1,3,3,3,2,2,2,2,1,2,1,2,2,2,0,1,2],
            [2,1,0,2,1,1,1,2,1,2,1,1,2,1,3,1,1,2,1,1,2,1,2,1,1,1,2,0,1,2],
            [2,1,0,2,2,2,1,2,1,2,2,1,2,1,2,2,1,2,1,2,2,1,2,1,2,2,2,0,1,2],
            [2,1,0,2,1,2,1,2,1,1,1,3,3,1,2,2,1,1,1,1,1,1,2,1,2,1,2,0,1,2],
            [2,1,0,2,2,2,1,2,2,2,2,2,2,1,2,2,1,2,2,2,2,2,2,1,2,2,2,0,1,2],
            [2,1,0,2,1,1,1,1,1,1,1,2,1,1,2,2,1,1,2,1,1,1,1,1,1,1,2,0,1,2],
            [2,1,0,2,2,2,2,1,2,2,1,1,1,2,2,2,2,1,1,1,2,2,1,2,2,2,2,0,1,2],
            [2,1,0,2,1,1,1,1,1,2,2,2,2,2,1,1,2,2,2,2,2,1,1,1,1,1,1,0,1,2],
            [2,1,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,1,2],
            [2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2],
            [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2], 
        ];
        }else if (map == 5) {
            world = [
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,0,2,1,2,1,2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2,1,2,2],
            [2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,2,2,1,2,1,1,1,2,1,3,2],
            [2,1,1,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,1,1,2,1,2,1,2,1,2,1,2,2],
            [2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,1,1,1,2,2,2,2,2,1,3,2],
            [2,1,2,2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,2],
            [2,1,2,1,2,1,2,1,2,2,3,1,2,1,2,1,1,1,2,1,1,1,2,2,2,2,2,1,3,2],
            [2,1,1,1,2,2,2,1,2,1,1,1,2,2,2,1,2,2,2,1,2,1,1,1,2,1,1,1,2,2],
            [2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,2,2,1,1,1,2,1,2,2,2,1,1,2],
            [2,2,2,1,2,1,1,1,2,1,2,1,2,2,2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,2],
            [2,1,2,1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,1,1,1,2,1,1,1,2,1,1,2],
            [2,1,1,1,2,1,1,1,2,1,2,1,2,3,3,1,2,1,1,1,2,1,1,1,2,1,1,1,2,2],
            [2,1,2,2,2,1,2,1,1,1,2,1,1,1,2,3,2,2,2,1,1,2,2,2,1,1,2,1,1,2],
            [2,1,2,1,2,1,2,2,2,1,1,3,2,1,2,1,2,1,1,1,2,2,1,1,2,1,2,2,2,2],
            [2,1,2,2,1,1,2,1,1,1,2,1,2,2,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,2],
            [2,1,2,2,2,1,1,2,2,1,2,2,2,1,2,3,2,1,1,1,2,2,2,2,2,1,1,1,2,2],  
            [2,1,2,1,1,1,2,2,2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,2],
            [2,1,1,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,1,1,2,2,2,2,2,1,2,2,2,2],
            [2,2,2,1,2,2,2,1,2,1,2,2,2,2,2,2,2,2,2,1,2,1,2,1,1,1,2,1,1,2],
            [2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,2,2,1,1,1,2,2],
            [2,1,2,1,1,1,2,2,1,1,2,1,1,1,2,3,1,1,2,1,1,1,2,2,3,1,2,1,1,2],
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
        ];
        }

        var score = 0;

        var pacman = {
            x: 1,
            y: 1,
            deg: 0
        };

        var ghost1 = {
			x: 20,
			y: 2,
		};
		var ghost2 = {
			x: 5,
			y: 5,
		};
		var ghost3 = {
			x: 20,
			y: 10,
		};
        function displayWorld() {
            var output = '';
            for (var i = 0; i < world.length; i++) {
                output += "\n<div class='row'>\n"
                for (var j = 0; j < world[i].length; j++) {
                    if (world[i][j] == 2){
                        output += "<div class='brick'></div>"
                    }else if(world[i][j] == 1){
                        output += "<div class='coin'></div>"
                    }else if(world[i][j] == 3){
                        output += "<div class='cherry'></div>"
                    }else if (world[i][j] == 0){
                        output += "<div class='empty'></div>"
                    }
                }
                output += "\n</div>";
            }
            // console.log(output);
            document.getElementById('world').innerHTML = output;
        }

        function displayPacman() {
            document.getElementById('pacman').style.top = pacman.y*20+"px";
            document.getElementById('pacman').style.left = pacman.x*20+"px";
            document.getElementById('pacman').style.transform = "rotate(" + pacman.deg + "deg)";
        }

        function displayGhost(id, ghost) {
            document.getElementById(id).style.top = ghost.y*20+"px";
            document.getElementById(id).style.left = ghost.x*20+"px";
        }

        function displayScore() {
            document.getElementById('score').innerHTML = score;
        }

        function moveGhosts(id, ghost) {
			var moveDir = Math.floor(Math.random() * 4) + 1;
			if (moveDir == 1 && world[ghost.y][ghost.x-1] != 2) { // LEFT
				ghost.x--;
			} else if (moveDir == 3 && world[ghost.y][ghost.x+1] != 2) { // RIGHT
				ghost.x++;
			} else if (moveDir == 2 && world[ghost.y-1][ghost.x] != 2) { // UP
				ghost.y--;
			} else if (moveDir == 4 && world[ghost.y+1][ghost.x] != 2) { // DOWN
				ghost.y++;
			}

			displayGhost(id, ghost);
        }

        displayWorld();
        displayPacman();
        displayScore();
        displayGhost('ghost1', ghost1);
		displayGhost('ghost2', ghost2);
		displayGhost('ghost3', ghost3);

        document.onkeydown = function(e){
            if (e.keyCode == 37 && world[pacman.y][pacman.x-1] != 2) { //LEFT
                pacman.x--;
                pacman.deg = 180;
            }else if(e.keyCode == 39 && world[pacman.y][pacman.x+1] != 2){ //Right
                pacman.x++;
                pacman.deg = 0;
            }else if(e.keyCode == 38 && world[pacman.y-1][pacman.x] !=2){ //UP
                pacman.y--;
                pacman.deg = -90;
            }else if(e.keyCode == 40  && world[pacman.y+1][pacman.x] !=2){ //Down
                pacman.y++;
                pacman.deg = 90;
            }
            // console.log(e.keyCode);
            if (world[pacman.y][pacman.x] ==1) {
                world[pacman.y][pacman.x] = 0;
                displayWorld();
                score+=10;
                displayScore();
            }else if (world[pacman.y][pacman.x] == 3) {
                world[pacman.y][pacman.x] = 0;
                score += 20;
                displayWorld();
                displayScore();
            }
            console.log(e.keyCode);
            displayPacman();
        }
        setInterval(function () {
			moveGhosts('ghost1', ghost1);
			moveGhosts('ghost2', ghost2);
			moveGhosts('ghost3', ghost3);
		}, 500);

    </script>
</body>
</html>